# SPDX-FileCopyrightText: 2020 Serokell <https://serokell.io/>
#
# SPDX-License-Identifier: MPL-2.0

name: NaCl
version: 0.0.2.0
synopsis: Easy-and-safe-to-use high-level Haskell bindings to NaCl
description: |
  This library uses <https://libsodium.org Sodium> under the hood,
  but only exposes the primitives that are part of the “classic” NaCl
  interface. We believe, it is better to be paranoid than sorry.

  __Note: this package is experimental and WIP.__

  Sodium is more portable, but some people prefer to stick to NaCl.
  We agree that it is better to be paranoid than sorry.
  That is why, even though this library uses
  Sodium under the hood, it only exposes the primitives that
  are part of the “classic” NaCl interface.

  Sodium provides useful algorithms, that are not part of NaCl,
  for example key derivation or random number generation.
  If you need them too (you probably do), you should use
  </package/crypto-sodium crypto-sodium> instead.

  = Secret-key cryptography

    * Authenticated encryption: "Crypto.Secretbox"

  = Public-key cryptography

    * Authenticated encryption: "Crypto.Box"
# Note: please, keep the lists above in sync with the one in crypto-sodium.

category: Cryptography

author: Kirill Elagin <kirelagin@serokell.io>
copyright: 2020 Serokell
license-file: LICENSES/MPL-2.0.txt

github: serokell/haskell-crypto

extra-doc-files:
  - CHANGELOG.md
  - README.md

ghc-options:
  - -Wall
  - -Wcompat
  - -Wincomplete-record-updates
  - -Wincomplete-uni-patterns
  - -Wredundant-constraints

default-extensions:
  - DataKinds
  - FlexibleContexts
  - FlexibleInstances
  - GeneralizedNewtypeDeriving
  - KindSignatures
  - MultiParamTypeClasses
  - NumericUnderscores
  - OverloadedStrings
  - PolyKinds
  - ScopedTypeVariables

dependencies:
  - base >= 4.10 && < 4.15
  - bytestring >= 0.9 && < 0.11

library:
  source-dirs: lib

  dependencies:
    - gdp >= 0.0.0.1 && < 0.1
    - libsodium >= 1.0 && < 2
    - memory >= 0.14.15 && < 0.16
    - safe-exceptions >= 0.1 && < 0.2

tests:
  test:
    source-dirs: test
    main: Test.hs

    dependencies:
      - NaCl

      - hedgehog
      - HUnit
      - tasty
      - tasty-hedgehog
      - tasty-hunit

      - libsodium
      - memory

    build-tools:
      - tasty-discover:tasty-discover
